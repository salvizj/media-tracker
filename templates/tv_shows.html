{{define "content_tv_shows"}}
<h2 class="text-3xl font-extrabold mb-6 text-teal-500 text-center">TV Shows</h2>
<form
	id="tvShowForm"
	class="flex flex-col sm:flex-row sm:items-center sm:justify-start gap-3 mb-8 max-w-4xl mx-auto px-4 sm:px-0"
>
	<input
		type="text"
		id="tvShowName"
		name="name"
		placeholder="TV Show Name"
		required
		class="w-full sm:flex-1 min-w-[200px] px-4 py-3 rounded border border-gray-300 focus:outline-none focus:ring-4 focus:ring-teal-400 transition"
	/>
	<input
		type="number"
		id="tvShowSeason"
		name="season"
		placeholder="Season"
		min="1"
		required
		class="w-full sm:w-28 min-w-[70px] px-4 py-3 rounded border border-gray-300 focus:outline-none focus:ring-4 focus:ring-teal-400 transition"
	/>
	<input
		type="number"
		id="tvShowEpisode"
		name="episode"
		placeholder="Episode"
		min="1"
		required
		class="w-full sm:w-28 min-w-[70px] px-4 py-3 rounded border border-gray-300 focus:outline-none focus:ring-4 focus:ring-teal-400 transition"
	/>
	<select
		id="tvShowStatus"
		name="status"
		required
		class="w-full sm:w-auto px-4 py-3 rounded border border-gray-300 focus:outline-none focus:ring-4 focus:ring-teal-400 transition"
	>
		<option value="Watching">Watching</option>
		<option value="Completed">Completed</option>
		<option value="Dropped">Dropped</option>
	</select>
	<button
		type="submit"
		class="w-full sm:w-auto bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded font-semibold transition"
	>
		Add TV Show
	</button>
</form>

<div class="mb-4 flex gap-2">
	<button
		type="button"
		class="filter-btn text-teal-200 hover:text-teal-50 transition font-semibold border-b-4 border-transparent hover:border-teal-200  bg-teal-700 bg-opacity-90 rounded-md px-4 py-2 shadow-lg"
		data-status="All"
	>
		All
	</button>
	<button
		type="button"
		class="filter-btn text-teal-200 hover:text-teal-50 transition font-semibold border-b-4 border-transparent hover:border-teal-200 bg-teal-700 bg-opacity-90 rounded-md px-4 py-2 shadow-lg"
		data-status="Watching"
	>
	Watching
	</button>
	<button
		type="button"
		class="filter-btn text-teal-200 hover:text-teal-50 transition font-semibold border-b-4 border-transparent hover:border-teal-200  bg-teal-700 bg-opacity-90 rounded-md px-4 py-2 shadow-lg"
		data-status="Completed"
	>
		Completed
	</button>
	<button
		type="button"
		class="filter-btn text-teal-200 hover:text-teal-50 transition font-semibold border-b-4 border-transparent hover:border-teal-200  bg-teal-700 bg-opacity-90 rounded-md px-4 py-2 shadow-lg"
		data-status="Dropped"
	>
		Dropped
	</button>
</div>

<ul class="space-y-2">
	{{range .TVShows}}
	<li
	  class="flex flex-col bg-white/90 rounded px-4 py-2 shadow w-full"
	  data-status="{{.Status}}"
	  data-id="{{.ID}}"
	>
	  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
		<div class="flex flex-col">
		  <span class="font-semibold text-gray-800 text-base sm:text-lg">{{.Name}}</span>
		  <span class="text-sm text-gray-500 mt-0.5">{{.Date}}</span>
		</div>
  
		<div>
		  <span class="text-sm text-gray-500">
			Season {{.Season}}, Episode {{.Episode}}
		  </span>
		</div>
  
		<div class="flex flex-wrap items-center gap-2">
		  <span
			class="text-sm font-semibold px-2 py-1 rounded border
			  {{if eq .Status "Watching"}} text-yellow-600 border-yellow-600
			  {{else if eq .Status "Completed"}} text-teal-600 border-teal-600
			  {{else if eq .Status "Dropped"}} text-red-600 border-red-600
			  {{else}} text-gray-600 border-gray-600
			  {{end}}"
		  >
			{{.Status}}
		  </span>
  
		  <button
			class="tv-shows-action-btn bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded font-semibold text-sm transition"
			type="button"
			data-method="DELETE"
		  >
			Delete
		  </button>
		  <button
			class="tv-shows-action-btn bg-teal-500 hover:bg-teal-600 text-white px-3 py-1 rounded font-semibold text-sm transition"
			type="button"
			data-method="PUT"
		  >
			Edit
		  </button>
		</div>
	  </div>
  
	  <form
		class="edit-tvshow-form flex flex-col sm:flex-row flex-wrap gap-2 mt-2 hidden w-full"
		data-id="{{.ID}}"
	  >
		<input type="hidden" name="id" value="{{.ID}}" />
  
		<input
		  type="text"
		  name="name"
		  value="{{.Name}}"
		  required
		  class="w-full sm:flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-teal-400 text-sm"
		/>
		<input
		  type="number"
		  name="season"
		  value="{{.Season}}"
		  min="1"
		  required
		  class="w-full sm:w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-teal-400 text-sm"
		/>
		<input
		  type="number"
		  name="episode"
		  value="{{.Episode}}"
		  min="1"
		  required
		  class="w-full sm:w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-teal-400 text-sm"
		/>
		<select
		  name="status"
		  required
		  class="w-full sm:w-auto px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-teal-400 text-sm"
		>
		  <option value="Watching" {{if eq .Status "Watching"}}selected{{end}}>Watching</option>
		  <option value="Completed" {{if eq .Status "Completed"}}selected{{end}}>Completed</option>
		  <option value="Dropped" {{if eq .Status "Dropped"}}selected{{end}}>Dropped</option>
		</select>
  
		<div class="flex gap-2 w-full sm:w-auto">
		  <button
			type="submit"
			class="bg-teal-500 hover:bg-teal-600 text-white px-3 py-1 rounded font-semibold text-sm transition w-full sm:w-auto"
		  >
			Save
		  </button>
		  <button
			type="button"
			class="cancel-edit-tvshow-btn bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded font-semibold text-sm transition w-full sm:w-auto"
		  >
			Cancel
		  </button>
		</div>
	  </form>
	</li>
	{{else}}
	<li class="text-gray-300 italic text-center">No TV shows</li>
	{{end}}
  </ul>
  
{{end}}
