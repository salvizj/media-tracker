{{define "content_tv_shows"}}
<h2 class="text-2xl font-bold mb-4 text-teal-200">TV Shows</h2>
<form id="tvShowForm" class="flex gap-2 mb-6">
	<input
		type="text"
		id="tvShowName"
		name="name"
		placeholder="Name"
		required
		class="px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400"
	/>
	<input
		type="number"
		id="tvShowSeason"
		name="season"
		placeholder="Season"
		min="1"
		required
		class="px-3 py-2 w-24 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400"
	/>
	<input
		type="number"
		id="tvShowEpisode"
		name="episode"
		placeholder="Episode"
		min="1"
		required
		class="px-3 py-2 w-24 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400"
	/>
	<select
		id="tvShowStatus"
		name="status"
		required
		class="px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400"
	>
		<option value="Watching">Watching</option>
		<option value="Completed">Completed</option>
		<option value="Dropped">Dropped</option>
	</select>
	<button
		type="submit"
		class="bg-teal-500 text-white px-4 py-2 rounded hover:bg-teal-600 transition"
	>
		Add TV Show
	</button>
</form>

<div class="mb-4 flex gap-2">
	<button
		class="filter-btn bg-teal-500 text-white px-3 py-1 rounded"
		data-status="All"
	>
		All
	</button>
	<button
		class="filter-btn bg-teal-500 text-white px-3 py-1 rounded"
		data-status="Watching"
	>
		Watching
	</button>
	<button
		class="filter-btn bg-teal-500 text-white px-3 py-1 rounded"
		data-status="Dropped"
	>
		Dropped
	</button>
	<button
		class="filter-btn bg-teal-500 text-white px-3 py-1 rounded"
		data-status="Completed"
	>
		Completed
	</button>
</div>

<ul class="space-y-2">
	{{range .TVShows}}
	<li
		class="bg-white/80 rounded px-4 py-2 shadow flex items-center"
		data-status="{{.Status}}"
	>
		<span class="font-semibold text-gray-800">{{.Name}}</span>
		<span class="ml-auto text-sm text-gray-500">{{.Date}}</span>
		<span class="ml-auto text-sm text-gray-500">{{.Status}}</span>
	</li>
	{{else}}
	<li class="text-gray-300 italic">No TV shows</li>
	{{end}}
</ul>

<script>
	document.querySelectorAll(".filter-btn").forEach((btn) => {
		btn.addEventListener("click", function () {
			const status = this.getAttribute("data-status")
			document.querySelectorAll("ul li[data-status]").forEach((li) => {
				if (
					status === "All" ||
					li.getAttribute("data-status") === status
				) {
					li.style.display = ""
				} else {
					li.style.display = "none"
				}
			})
		})
	})
</script>
{{end}}
